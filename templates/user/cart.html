{% extends 'user/base.html' %}

{% load static %}

{% block content %}
<section class="section-content padding-y bg">
	<div class="container">

		<!-- ============================ COMPONENT 1 ================================= -->
		{% if not cart_items %}
		<h2 class="text-center">Your shopping cart is empty</h2>
		<br>
		<div class="text-center">
				<a href="{% url 'store' %}" class="btn btn-major " >Continue shopping</a>
		</div>
		{% else %}
		<div class="row">
			<aside class="col-lg-9">
				<div class="card">
					<table class="table table-borderless table-shopping-cart">
						<thead class="text-muted">
							<tr class="small text-uppercase">
								<th scope="col">Product</th>
								<th scope="col" width="120">Quantity</th>
								<th scope="col" width="120">Price</th>
								<th scope="col" class="text-right" width="200"> </th>
							</tr>
						</thead>
						<tbody>
							{% for cart_item in cart_items %}
							<tr>
								<td>
									<figure class="itemside align-items-center">
										<div class="aside"><img src="{{ cart_item.product.image_1.url }}" class="img-sm"></div>
										<figcaption class="info">
											<a href="{% url 'product' cart_item.product.id %}" class="title text-dark">{{ cart_item.product.product_name }}</a>
											<p class="text-muted small">Quantity: {{ cart_item.product.quantity }}<br> Brand: {{ cart_item.product.brand.brand_name }}</p>
										</figcaption>
									</figure>
								</td>
								<td>
									<!-- col.// -->
									<div class="col">
										<div class="input-group input-spinner">
											<div class="input-group-prepend">
												<button onclick="removeFromCart('{{cart_item.product.id}}')" class="btn btn-light remove-from-cart-btn" type="button" id="button-minus"> <i
														class="fa fa-minus"></i> </a>
											</div>
											<input disabled type="text" class="form-control ind_count" value="{{ cart_item.quantity }}">
											<div class="input-group-append">
												<button onclick="addToCart('{{cart_item.product.id}}')"  class="btn btn-light add-to-cart-btn" type="button" id="button-plus"> <i
														class="fa fa-plus"></i> </button>
											</div>
										</div> <!-- input-group.// -->
									</div> <!-- col.// -->
								</td>
								<td>
									<div class="price-wrap">
										<var class="price">₹ {{ cart_item.sub_total }}.00</var>
										<small class="text-muted">₹ {{ cart_item.product.discount_price}}  each </small>
									</div> <!-- price-wrap .// -->
								</td>
								<td class="text-right">
									<a href="{% url 'remove-cart-item' cart_item.product.id %}" class="btn btn-danger"> Remove</a>
								</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div> <!-- card.// -->

			</aside> <!-- col.// -->
			<aside class="col-lg-3">

				<div class="card">
					<div class="card-body">
						<br>
						<h3 class="text-center "><b>Total cart value</b></h3>
						<br>
						<h4 class="text-center">₹{{ total }}.00</h4>
						<hr>
						<p class="text-center mb-3">
							<img src="{% static 'users/images/payments.png' %}" height="26">
						</p>
						<a href="" class="btn btn-major btn-block"> Checkout </a>
						<a href="{% url 'store' %}" class="btn btn-light btn-block">Continue Shopping</a>
					</div> <!-- card-body.// -->
				</div> <!-- card.// -->

			</aside> <!-- col.// -->


		</div> <!-- row.// -->
		{% endif %}
		<!-- ============================ COMPONENT 1 END .// ================================= -->

	</div> <!-- container .//  -->
</section>
{% endblock %}

{% block footer %}

{% endblock %}